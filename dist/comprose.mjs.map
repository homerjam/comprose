{"version":3,"file":"comprose.mjs","sources":["../src/index.ts"],"sourcesContent":["// TODO: docs\n// TODO: random data types\n// TODO: random date in range (min/max date datatype?)\n// TODO: one-of array of templates helper\n// TODO: replace # with random number\n// TODO: object helper - use values as getters\n// TODO: use seed-able random\n\nimport { get, isArray, isString, sample, upperFirst } from 'lodash-es';\nimport _data from './data/data.js';\n\nexport const data = _data;\n\ntype Dataset = 'compromise' | 'faker';\ntype Locale = 'en' | 'fr';\n\ninterface ComproseParams {\n  dataset?: Dataset;\n  locale?: Locale;\n}\n\nexport class Comprose {\n  private _data: typeof data;\n\n  dataset: Dataset;\n  locale: Locale;\n  localeFallback: Locale;\n\n  constructor({ dataset, locale }: ComproseParams) {\n    this._data = data;\n    this.dataset = dataset || 'faker';\n    this.locale = locale || 'en';\n    this.localeFallback = locale || 'en';\n  }\n\n  get data(): typeof data.faker.en & typeof data.compromise {\n    if (this.dataset === 'faker') {\n      return (this._data.faker[this.locale] ||\n        this._data.faker[this.localeFallback]) as any;\n    }\n\n    if (this.dataset === 'compromise') {\n      return this._data.compromise as any;\n    }\n\n    return this._data.faker.en as any;\n  }\n\n  get(collectionOrSelector: string | string[] | string[][] = []) {\n    if (isString(collectionOrSelector)) {\n      return sample(get(this.data, collectionOrSelector, [])) || '';\n    }\n    if (isArray(collectionOrSelector)) {\n      return sample(collectionOrSelector.flat()) || '';\n    }\n    return '';\n  }\n\n  personFirstName(\n    { gender }: Record<'gender', 'male' | 'female' | undefined> = {\n      gender: undefined,\n    }\n  ) {\n    const name: string = gender\n      ? this.get(this.data.name[`${gender}FirstName`])\n      : this.get([\n          this.data.name.firstName,\n          this.data.name.femaleFirstName,\n          this.data.name.maleFirstName,\n        ]);\n\n    return upperFirst(name);\n  }\n\n  personLastName() {\n    return upperFirst(this.get(this.data.name.lastName));\n  }\n\n  personName(\n    { gender }: Record<'gender', 'male' | 'female' | undefined> = {\n      gender: undefined,\n    }\n  ) {\n    return `${this.personFirstName({ gender })} ${this.personLastName()}`;\n  }\n\n  companyCatchPhrase() {\n    return `${this.get(this.data.company.adjective)} ${this.get(\n      this.data.company.descriptor\n    )} ${this.get(this.data.company.noun)}`;\n  }\n}\n\n//   replaceSymbolWithNumber(string, symbol) {\n//     string = string || '';\n//     // default symbol is '#'\n//     if (symbol === undefined) {\n//       symbol = '#';\n//     }\n\n//     let str = '';\n//     for (let i = 0; i < string.length; i++) {\n//       if (string.charAt(i) == symbol) {\n//         str += faker.datatype.number(9);\n//       } else if (string.charAt(i) == '!') {\n//         str += faker.datatype.number({ min: 2, max: 9 });\n//       } else {\n//         str += string.charAt(i);\n//       }\n//     }\n//     return str;\n//   }\n"],"names":[],"mappings":"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"}